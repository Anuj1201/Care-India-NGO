<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="script-src 'self' 'nonce-abc123' https://cdn.jsdelivr.net https://code.jquery.com https://stackpath.bootstrapcdn.com; object-src 'none';">
    <title>Home Page</title>
    <%@include file="all_components/allCss.jsp"%>
    <style>
        /* General styling */
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }

        /* Center container content */
        .container {
            padding: 30px 10px;
            max-width: 1200px;
            margin: auto;
        }

        /* Main heading style */
        h1 {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 2em;
        }

        /* Card styling */
        .card {
            margin: 20px auto;
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            position: relative; /* Make card relative to position images absolutely */
            overflow: hidden; /* Hide overflow for animation effect */
            display: flex; /* Use flexbox for card layout */
            flex-direction: row; /* Default direction for larger screens */
        }

        /* Card image styling */
        .card img {
            object-fit: cover;
            width: 100%;
            height: auto; /* Maintain aspect ratio */
            max-height: 250px; /* Limit image height */
            transition: opacity 0.5s ease-in-out; /* Transition for fading effect */
        }

        /* Hide the previous image */
        .card img.hide {
            opacity: 0; /* Fade out */
        }

        /* Responsive layout adjustments */
        @media (max-width: 767px) {
            /* Narrow screens (mobile) */
            .card {
                flex-direction: column; /* Stack content vertically on small screens */
                margin: 10px; /* Add some margin for mobile */
            }

            /* Limit image height on small screens */
            .card img {
                max-height: 200px; /* Limit image height */
            }

            /* Smaller heading size for mobile */
            h1 {
                font-size: 1.8em;
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <%@include file="all_components/navbar.jsp"%>

    <div class="container">
        <h1>OUR MISSIONS</h1>

        <div class="card mb-3" id="card1">
            <img src="images/children.jpg" class="img-fluid rounded-start image1 show" alt="Children Mission Image" id="image1">
            <div class="card-body">
                <h5 class="card-title">Support for Children's Education</h5>
                <p class="card-text">We aim to provide access to quality education for underprivileged children. Our mission is to create a brighter future by supporting educational initiatives.</p>
                <p class="card-text">
                    <small class="text-muted">Last updated 5 mins ago</small>
                </p>
            </div>
        </div>

        <div class="card mb-3" id="card2">
            <img src="images/oldPeople.jpeg" class="img-fluid rounded-start image2 show" alt="Elderly Support Mission Image" id="image2">
            <div class="card-body">
                <h5 class="card-title">Support for Elderly and Disabled</h5>
                <p class="card-text">Our goal is to help elderly and disabled individuals live a dignified life. We provide resources, care, and companionship to improve their well-being.</p>
                <p class="card-text">
                    <small class="text-muted">Last updated 2 mins ago</small>
                </p>
            </div>
        </div>
    </div>

    <script nonce="abc123">
        // Array of image URLs for rotation
        const imagesCard1 = [
            "images/children.jpg",
            "images/logo.jpeg" // Add more images as needed
        ];

        const imagesCard2 = [
            "images/oldPeople.jpeg",
            "images/orphanage.jpeg" // Add more images as needed
        ];

        var currentImageIndex1 = 0;
        var currentImageIndex2 = 0;

        // Function to change images every 3 seconds
        setInterval(() => {
            const img1 = document.getElementById("image1");
            const img2 = document.getElementById("image2");

            // Hide current images
            img1.classList.add("hide");
            img2.classList.add("hide");

            // Wait for the transition to complete before changing the image
            setTimeout(() => {
                // Change the images
                currentImageIndex1 = (currentImageIndex1 + 1) % imagesCard1.length;
                currentImageIndex2 = (currentImageIndex2 + 1) % imagesCard2.length;

                img1.src = imagesCard1[currentImageIndex1];
                img2.src = imagesCard2[currentImageIndex2];

                // Show the new images
                img1.classList.remove("hide");
                img2.classList.remove("hide");
            }, 500); // Match this duration with the CSS transition duration
        }, 4000); // Change image every 3000 ms (3 seconds)
    </script>
</body>
</html>
